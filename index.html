<!DOCTYPE html>
<html lang="es  ">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS Audio 1</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/style.css">
    <script defer src="./js/index.js" type="module" crossorigin></script>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container-fluid">
              <a class="navbar-brand" href="#">JS Audio 1</a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDarkDropdown" aria-controls="navbarNavDarkDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarNavDarkDropdown">
                <ul class="navbar-nav">
                  <li class="nav-item dropdown">
                    <button class="btn btn-dark dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                      Dropdown
                    </button>
                    <ul class="dropdown-menu dropdown-menu-dark">
                      <li><a class="dropdown-item" href="#">Action</a></li>
                      <li><a class="dropdown-item" href="#">Another action</a></li>
                      <li><a class="dropdown-item" href="#">Something else here</a></li>
                    </ul>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Home</a>
                  </li>
                </ul>
              </div>
            </div>
          </nav>
    </header>
    <main class="vh-100 container">
        <div class="text-center">
            <h1>JS Audio 1</h1>
        </div>
        <section class="row">
            <article>
                <div class="alert alert-danger">
                    <b>General Audio State:</b><span id="audio-state" class="ms-2">Stoped</span>
                </div>
                <fieldset>
                    <legend>new Audio() <span class="badge rounded-pill bg-primary" id="audio1-state">Stoped</span></legend>
                    <p>La clase Audio, nos permite usar la API nativa del navegador para reproducir sonidos, tal cual HTML5, le pasamos como constructor 
                        una cadena de texto que es la ruta al archivo .mp3, .wav, etc.
                    </p>
                    <p>Algo a notar, es que si hacemos click constantemente mientras se reproduce, no tiene efectos secundarios, ni se reproduce otra vez
                        el sonido, salvo que termine.
                    </p>
                    <button id="btn1" class="btn btn-primary">PLAY</button>
                </fieldset>
                <fieldset>
                    <legend>new Audio('data:audio/wav;base64') <span class="badge rounded-pill bg-primary" id="audio2-state">Stoped</span></legend>
                    <p>El Source / Fuente de audio, no necesariamente tiene que ser un recurso ya creado, podemos pasarle instrucciones en codificacion Base64 que la api podra interpretar sin problema alguno
                        normalmente es recomendable usarlo en sonidos cortos, sino es mucho texto para poner en nuestro codigo.
                    </p>
                    <p><b>Dato interesante: </b><i>Cuando abstraemos la reproduccion de audio en una funcion y luego llamamos a esa funcion desde un boton, 
                        muy rapido, (haciendo muchos clicks consecutivos) los reproduce sin problemas. Por otro lado, si lo hacemos desde el mismo archivo index espera
                        a que el audio deje de reproducirse.
                    </i></p>
                    <p><i>Pens√© que era por los listeners que tenian asociados, pero los comente y el comportamiento sigue siendo el mismo, destaco esto porque puede
                        ser para aplicar en diferentes casos segun la necesidad.
                    </i></p>
                    <p><i>Cabe aclarar que lo que sucede, es que al ejecutar la funcion, siempre crea una nueva instancia del audio, es por ello que tenemos este resultado.
                    </i></p>
                    <button id="btn2" class="btn btn-primary">PLAY</button> <button id="btn2-1" class="btn btn-primary">PLAY beep() function</button>
                </fieldset>
            </article>
        </section>
    </main>
    <footer class="bg-dark text-white p-3 text-center">
        <p><i>&copy; Cristian Ismael Gramajo - 2023</i></p>
    </footer>
</body>
</html>